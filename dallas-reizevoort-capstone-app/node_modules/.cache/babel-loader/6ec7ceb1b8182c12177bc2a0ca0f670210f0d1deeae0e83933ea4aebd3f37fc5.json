{"ast":null,"code":"var _jsxFileName = \"/Users/dallas/BrainStation/dallas-reizevoort-capstone/dallas-reizevoort-capstone-app/src/components/Playlist/Playlist.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useContext } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-node\";\nimport SpotifyPlayIcon from \"../../assets/images/Spotify_Play.png\";\nimport SpotifyPlayer from \"../SpotifyPlayer/SpotifyPlayer\";\nimport { useLocation } from \"react-router-dom\";\nimport \"./Playlist.scss\";\nimport Create from \"../../assets/images/create_icon.png\";\nimport Save from \"../../assets/images/save_icon.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Playlist({\n  accessToken\n}) {\n  _s();\n  const [userID, setUserID] = useState();\n  const [playlist, setPlaylist] = useState(null); // New state variable for the playlist\n  const [newPlaylist, setNewPlaylist] = useState(null);\n  const [playlistDescription, setPlaylistDescription] = useState(\"\");\n  const [playingTrackId, setPlayingTrackId] = useState(null);\n  const [playlistCreated, setPlaylistCreated] = useState(false);\n  const location = useLocation();\n  const [playlistId, setPlaylistId] = useState(null);\n  const spotifyApi = useRef(new SpotifyWebApi({\n    clientId: \"6ba0cc8b29e145ea99f2401c09a35e6e\"\n  }));\n  useEffect(() => {\n    setPlaylistCreated(false);\n    setNewPlaylist(null);\n  }, [location]);\n  useEffect(playlist => {\n    console.log(\"Playlist state:\", playlist);\n  }, [playlist]);\n  const handlePlay = trackId => {\n    console.log(\"Playing track with ID:\", trackId); // Add this line\n    setPlayingTrackId(trackId);\n  };\n  useEffect(() => {\n    if (!accessToken) return;\n    spotifyApi.current.setAccessToken(accessToken);\n\n    // Get the user's ID\n    spotifyApi.current.getMe().then(res => {\n      setUserID(res.body.id);\n      console.log(\"User ID:\", res.body.id); // Log the user ID\n    });\n  }, [accessToken]);\n\n  // Cant use callbacks here, playlist stays undefined\n  const createPlaylist = async () => {\n    try {\n      // Get the user's top tracks\n      const topTracksResponse = await spotifyApi.current.getMyTopTracks({\n        limit: 5\n      });\n      const trackIds = topTracksResponse.body.items.map(track => track.id);\n\n      // Get recommendations based on these tracks\n      const recommendationsResponse = await spotifyApi.current.getRecommendations({\n        seed_tracks: trackIds\n      });\n      const tracks = recommendationsResponse.body.tracks.map(track => ({\n        uri: track.uri,\n        name: track.name,\n        artist: track.artists[0].name,\n        artwork: track.album.images[0].url,\n        id: track.id\n      }));\n\n      // Create a new playlist in the state\n      setNewPlaylist({\n        name: \"New Playlist\",\n        tracks\n      });\n    } catch (err) {\n      console.error(\"Error:\", err);\n    }\n    setPlaylistCreated(true);\n  };\n  const savePlaylist = () => {\n    console.log('userID:', userID);\n    console.log('newPlaylist.name:', newPlaylist.name);\n    console.log('accessToken:', spotifyApi.current.getAccessToken());\n    let playlistId; // Define playlistId here\n\n    spotifyApi.current.createPlaylist(userID, newPlaylist.name, {\n      public: false,\n      description: playlistDescription\n    }).then(playlistData => {\n      playlistId = playlistData.body.id; // Set playlistId here\n      setPlaylistId(playlistId);\n\n      // Map newPlaylist.tracks to an array of track URIs\n      const trackUris = newPlaylist.tracks.map(track => track.uri);\n\n      // Add tracks to the playlist\n      return spotifyApi.current.addTracksToPlaylist(playlistId, trackUris);\n    }).catch(err => {\n      console.error(\"Error creating playlist:\", err);\n    }).then(() => {\n      // Fetch the playlist data\n      if (playlistId) {\n        // Check if playlistId is defined\n        return spotifyApi.current.getPlaylist(playlistId);\n      }\n    }).then(data => {\n      if (data) {\n        // Check if data is defined\n        setPlaylist(data.body); // Update the playlist state\n      }\n    }).catch(err => {\n      console.error(\"Error:\", err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"playlists\",\n    children: [!newPlaylist || !newPlaylist.tracks || newPlaylist.tracks.length === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"playlists__header\",\n        children: \"Create a playlist based on your top songs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playlists__create\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"playlists__button\",\n          onClick: createPlaylist,\n          children: [\"Create\", \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Create,\n            className: \"playlists__icon\",\n            alt: \"create icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"playlists__header\",\n        children: [\"Not a fan of this one? Try Again \", /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Create,\n          className: \"playlists__icon\",\n          onClick: createPlaylist\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 80\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playlists__save\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"playlists__name\",\n          placeholder: \"Name your playlist\",\n          onChange: e => setPlaylistDescription(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"playlists__button\",\n          alt: \"playlists button\",\n          onClick: savePlaylist,\n          children: [\"Save to Spotify\", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://open.spotify.com/playlist/${playlistId}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: Save,\n              className: \"playlists__icon\",\n              alt: \"playlist save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), playingTrackId && /*#__PURE__*/_jsxDEV(SpotifyPlayer, {\n      trackId: playingTrackId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 28\n    }, this), newPlaylist && newPlaylist.tracks && newPlaylist.tracks.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: newPlaylist.tracks.map((track, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playlist\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"playlist__container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: track.artwork,\n            alt: track.name,\n            className: \"playlist__image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"playlist__title\",\n            children: [track.name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"playlist__container\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"playlist__artist\",\n            children: [track.artist, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"playlist__link\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"playlist__button\",\n              onClick: () => handlePlay(track.id),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: SpotifyPlayIcon,\n                alt: \"Spotify Play Icon\",\n                className: \"playlist__icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 17\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }, this))\n    }, void 0, false), !newPlaylist && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No tracks in playlist.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 7\n  }, this);\n}\n_s(Playlist, \"myS7EVsGw0bC4REuuJs8QkpFtPQ=\", false, function () {\n  return [useLocation];\n});\n_c = Playlist;\nexport default Playlist;\nvar _c;\n$RefreshReg$(_c, \"Playlist\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useContext","SpotifyWebApi","SpotifyPlayIcon","SpotifyPlayer","useLocation","Create","Save","jsxDEV","_jsxDEV","Fragment","_Fragment","Playlist","accessToken","_s","userID","setUserID","playlist","setPlaylist","newPlaylist","setNewPlaylist","playlistDescription","setPlaylistDescription","playingTrackId","setPlayingTrackId","playlistCreated","setPlaylistCreated","location","playlistId","setPlaylistId","spotifyApi","clientId","console","log","handlePlay","trackId","current","setAccessToken","getMe","then","res","body","id","createPlaylist","topTracksResponse","getMyTopTracks","limit","trackIds","items","map","track","recommendationsResponse","getRecommendations","seed_tracks","tracks","uri","name","artist","artists","artwork","album","images","url","err","error","savePlaylist","getAccessToken","public","description","playlistData","trackUris","addTracksToPlaylist","catch","getPlaylist","data","className","children","length","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","type","placeholder","onChange","e","target","value","href","rel","index","_c","$RefreshReg$"],"sources":["/Users/dallas/BrainStation/dallas-reizevoort-capstone/dallas-reizevoort-capstone-app/src/components/Playlist/Playlist.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-node\";\nimport SpotifyPlayIcon from \"../../assets/images/Spotify_Play.png\";\nimport SpotifyPlayer from \"../SpotifyPlayer/SpotifyPlayer\";\nimport { useLocation } from \"react-router-dom\";\nimport \"./Playlist.scss\";\nimport Create from \"../../assets/images/create_icon.png\";\nimport Save from \"../../assets/images/save_icon.png\";\n\nfunction Playlist({ accessToken }) {\n  const [userID, setUserID] = useState();\n  const [playlist, setPlaylist] = useState(null); // New state variable for the playlist\n  const [newPlaylist, setNewPlaylist] = useState(null);\n  const [playlistDescription, setPlaylistDescription] = useState(\"\");\n  const [playingTrackId, setPlayingTrackId] = useState(null);\n  const [playlistCreated, setPlaylistCreated] = useState(false);\n  const location = useLocation();\n  const [playlistId, setPlaylistId] = useState(null);\n\n  const spotifyApi = useRef(\n    new SpotifyWebApi({\n      clientId: \"6ba0cc8b29e145ea99f2401c09a35e6e\",\n    })\n  );\n\n  useEffect(() => {\n    setPlaylistCreated(false);\n    setNewPlaylist(null);\n  }, [location]);\n\n  useEffect(\n    (playlist) => {\n      console.log(\"Playlist state:\", playlist);\n    },\n    [playlist]\n  );\n\n  const handlePlay = (trackId) => {\n    console.log(\"Playing track with ID:\", trackId); // Add this line\n    setPlayingTrackId(trackId);\n  };\n\n  useEffect(() => {\n    if (!accessToken) return;\n    spotifyApi.current.setAccessToken(accessToken);\n\n    // Get the user's ID\n    spotifyApi.current.getMe().then((res) => {\n      setUserID(res.body.id);\n      console.log(\"User ID:\", res.body.id); // Log the user ID\n    });\n  }, [accessToken]);\n\n  // Cant use callbacks here, playlist stays undefined\n  const createPlaylist = async () => {\n    try {\n      // Get the user's top tracks\n      const topTracksResponse = await spotifyApi.current.getMyTopTracks({\n        limit: 5,\n      });\n      const trackIds = topTracksResponse.body.items.map((track) => track.id);\n\n      // Get recommendations based on these tracks\n      const recommendationsResponse =\n        await spotifyApi.current.getRecommendations({ seed_tracks: trackIds });\n      const tracks = recommendationsResponse.body.tracks.map((track) => ({\n        uri: track.uri,\n        name: track.name,\n        artist: track.artists[0].name,\n        artwork: track.album.images[0].url,\n        id: track.id,\n      }));\n\n      // Create a new playlist in the state\n      setNewPlaylist({ name: \"New Playlist\", tracks });\n    } catch (err) {\n      console.error(\"Error:\", err);\n    }\n    setPlaylistCreated(true);\n  };\n\n  const savePlaylist = () => {\n    console.log('userID:', userID);\n    console.log('newPlaylist.name:', newPlaylist.name);\n    console.log('accessToken:', spotifyApi.current.getAccessToken());\n  \n    let playlistId; // Define playlistId here\n  \n    spotifyApi.current.createPlaylist(userID, newPlaylist.name, { public: false, description: playlistDescription })\n      .then(playlistData => {\n        playlistId = playlistData.body.id; // Set playlistId here\n        setPlaylistId(playlistId);\n  \n        // Map newPlaylist.tracks to an array of track URIs\n        const trackUris = newPlaylist.tracks.map(track => track.uri);\n  \n        // Add tracks to the playlist\n        return spotifyApi.current.addTracksToPlaylist(playlistId, trackUris);\n      })\n      .catch(err => {\n        console.error(\"Error creating playlist:\", err);\n      })\n      .then(() => {\n        // Fetch the playlist data\n        if (playlistId) { // Check if playlistId is defined\n          return spotifyApi.current.getPlaylist(playlistId);\n        }\n      })\n      .then(data => {\n        if (data) { // Check if data is defined\n          setPlaylist(data.body); // Update the playlist state\n        }\n      })\n      .catch(err => {\n        console.error(\"Error:\", err);\n      });\n  };\n\n    return (\n      <div className=\"playlists\">\n        {!newPlaylist || !newPlaylist.tracks || newPlaylist.tracks.length === 0 ? (\n          <>\n            <h2 className=\"playlists__header\">\n              Create a playlist based on your top songs\n            </h2>\n            <div className=\"playlists__create\">\n              <button className=\"playlists__button\" onClick={createPlaylist}>\n                Create{\" \"}\n                <img\n                  src={Create}\n                  className=\"playlists__icon\"\n                  alt=\"create icon\"\n                ></img>\n              </button>\n            </div>\n          </>\n        ) : (\n          <>\n            <h2 className=\"playlists__header\">Not a fan of this one? Try Again <img src={Create} className=\"playlists__icon\" onClick={createPlaylist}></img></h2>\n            <div className=\"playlists__save\">\n              <input\n                type=\"text\"\n                className=\"playlists__name\"\n                placeholder=\"Name your playlist\"\n                onChange={(e) => setPlaylistDescription(e.target.value)}\n              />\n              <button className=\"playlists__button\" alt=\"playlists button\" onClick={savePlaylist}>\n  Save to Spotify \n  <a href={`https://open.spotify.com/playlist/${playlistId}`} target=\"_blank\" rel=\"noopener noreferrer\">\n    <img src={Save} className=\"playlists__icon\" alt=\"playlist save\"></img>\n  </a>\n</button>\n            </div>\n          </>\n        )}\n        {playingTrackId && <SpotifyPlayer trackId={playingTrackId} />}\n        {newPlaylist && newPlaylist.tracks && newPlaylist.tracks.length > 0 && (\n          <>\n            {newPlaylist.tracks.map((track, index) => (\n              <div key={index} className=\"playlist\">\n                <div className=\"playlist__container\">\n                  <img\n                    src={track.artwork}\n                    alt={track.name}\n                    className=\"playlist__image\"\n                  />\n                  <span className=\"playlist__title\">{track.name} </span>\n                </div>\n                <div className=\"playlist__container\">\n                  <span className=\"playlist__artist\">{track.artist} </span>\n                  <div className=\"playlist__link\">\n                    <button className=\"playlist__button\" onClick={() => handlePlay(track.id)}>\n                      <img\n                        src={SpotifyPlayIcon}\n                        alt=\"Spotify Play Icon\"\n                        className=\"playlist__icon\"\n                      />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </>\n        )}\n        {!newPlaylist && <p>No tracks in playlist.</p>}\n      </div>\n    );\n}\n\nexport default Playlist;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
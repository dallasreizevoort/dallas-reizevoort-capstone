{"ast":null,"code":"// // useAuth.js\n// import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\n// import { useNavigate } from 'react-router-dom';\n\n// function useAuth(code) {\n//   const [accessToken, setAccessToken] = useState();\n//   const [refreshToken, setRefreshToken] = useState();\n//   const [expiresIn, setExpiresIn] = useState();\n//   const [loading, setLoading] = useState(true);\n//   const navigate = useNavigate();\n//   console.log(code);\n\n//   useEffect(() => {\n//     if (!code) return;\n//     console.log('code:', code);\n//     axios\n//       .post(\"http://localhost:3001/login\", { code })\n//       .then((res) => {\n//         console.log('res.data:', res.data);\n//         setAccessToken(res.data.accessToken);\n//         setRefreshToken(res.data.refreshToken);\n//         setExpiresIn(res.data.expiresIn);\n//         setLoading(false);\n//       })\n//       .catch((error) => {\n//         console.error('Error during axios.post call to /login:', error);\n//         navigate('/');\n//       });\n//   }, [code, navigate]);\n\n//   useEffect(() => {\n//     if (!refreshToken || !expiresIn) return;\n//     const interval = setInterval(() => {\n//       axios\n//         .post(\"http://localhost:3001/refresh\", { refreshToken })\n//         .then((res) => {\n//           console.log('res.data:', res.data);\n//           setAccessToken(res.data.accessToken);\n//           setExpiresIn(res.data.expiresIn);\n//         })\n//         .catch((error) => {\n//           console.error('Error during axios.post call to /refresh:', error);\n//           navigate('/');\n//         });\n//     }, (expiresIn - 60) * 1000);\n\n//     return () => clearInterval(interval);\n//   }, [refreshToken, expiresIn, navigate]);\n\n//   console.log('accessToken:', accessToken);\n//   console.log('loading:', loading);\n\n//   return { accessToken, loading };\n// }\n\n// export default useAuth;","map":{"version":3,"names":[],"sources":["/Users/dallas/BrainStation/dallas-reizevoort-capstone/dallas-reizevoort-capstone-app/src/Auth/useAuth.js"],"sourcesContent":["// // useAuth.js\n// import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\n// import { useNavigate } from 'react-router-dom';\n\n// function useAuth(code) {\n//   const [accessToken, setAccessToken] = useState();\n//   const [refreshToken, setRefreshToken] = useState();\n//   const [expiresIn, setExpiresIn] = useState();\n//   const [loading, setLoading] = useState(true);\n//   const navigate = useNavigate();\n//   console.log(code);\n\n//   useEffect(() => {\n//     if (!code) return;\n//     console.log('code:', code);\n//     axios\n//       .post(\"http://localhost:3001/login\", { code })\n//       .then((res) => {\n//         console.log('res.data:', res.data);\n//         setAccessToken(res.data.accessToken);\n//         setRefreshToken(res.data.refreshToken);\n//         setExpiresIn(res.data.expiresIn);\n//         setLoading(false);\n//       })\n//       .catch((error) => {\n//         console.error('Error during axios.post call to /login:', error);\n//         navigate('/');\n//       });\n//   }, [code, navigate]);\n\n//   useEffect(() => {\n//     if (!refreshToken || !expiresIn) return;\n//     const interval = setInterval(() => {\n//       axios\n//         .post(\"http://localhost:3001/refresh\", { refreshToken })\n//         .then((res) => {\n//           console.log('res.data:', res.data);\n//           setAccessToken(res.data.accessToken);\n//           setExpiresIn(res.data.expiresIn);\n//         })\n//         .catch((error) => {\n//           console.error('Error during axios.post call to /refresh:', error);\n//           navigate('/');\n//         });\n//     }, (expiresIn - 60) * 1000);\n\n//     return () => clearInterval(interval);\n//   }, [refreshToken, expiresIn, navigate]);\n\n//   console.log('accessToken:', accessToken);\n//   console.log('loading:', loading);\n\n//   return { accessToken, loading };\n// }\n\n// export default useAuth;"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
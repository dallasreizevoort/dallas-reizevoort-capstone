{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport spotifyWebApi from 'spotify-web-api-node';\nimport SpotifyIcon from \"../../assets/images/Spotify_Icon_RGB_Green.png\";\nfunction Player({\n  accessToken,\n  trackId\n}) {\n  _s();\n  const [player, setPlayer] = useState(null);\n  const spotifyApi = useRef(new spotifyWebApi({\n    clientId: \"6ba0cc8b29e145ea99f2401c09a35e6e\"\n  }));\n  useEffect(() => {\n    if (!accessToken) return;\n    spotifyApi.setAccessToken(accessToken);\n\n    // Create a new player\n    const newPlayer = new window.Spotify.Player({\n      name: 'Web Playback SDK Player',\n      getOAuthToken: cb => {\n        cb(accessToken);\n      }\n    });\n\n    // Error handling\n    newPlayer.addListener('initialization_error', ({\n      message\n    }) => {\n      console.error(message);\n    });\n    newPlayer.addListener('authentication_error', ({\n      message\n    }) => {\n      console.error(message);\n    });\n    newPlayer.addListener('account_error', ({\n      message\n    }) => {\n      console.error(message);\n    });\n    newPlayer.addListener('playback_error', ({\n      message\n    }) => {\n      console.error(message);\n    });\n\n    // Playback status updates\n    newPlayer.addListener('player_state_changed', state => {\n      console.log(state);\n    });\n\n    // Ready\n    newPlayer.addListener('ready', ({\n      device_id\n    }) => {\n      console.log('Ready with Device ID', device_id);\n      setPlayer(newPlayer);\n    });\n\n    // Not Ready\n    newPlayer.addListener('not_ready', ({\n      device_id\n    }) => {\n      console.log('Device ID has gone offline', device_id);\n    });\n\n    // Connect to the player\n    newPlayer.connect();\n    return () => {\n      // Clean up on unmount\n      newPlayer.disconnect();\n    };\n  }, [accessToken]);\n  useEffect(() => {\n    if (!player) return;\n    if (!trackId) return;\n\n    // Play the track using spotify-web-api-node\n    spotifyApi.play({\n      uris: [`spotify:track:${trackId}`]\n    }).then(function () {\n      console.log('Playback started');\n    }, function (err) {\n      console.error('Something went wrong!', err);\n    });\n  }, [player, trackId]);\n  return null; // This component does not render anything\n}\n_s(Player, \"MFj45bnc7vWTVKUeRZ7I690DdaA=\");\n_c = Player;\nexport default Player;\nvar _c;\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["React","useState","useEffect","useRef","spotifyWebApi","SpotifyIcon","Player","accessToken","trackId","_s","player","setPlayer","spotifyApi","clientId","setAccessToken","newPlayer","window","Spotify","name","getOAuthToken","cb","addListener","message","console","error","state","log","device_id","connect","disconnect","play","uris","then","err","_c","$RefreshReg$"],"sources":["/Users/dallas/BrainStation/dallas-reizevoort-capstone/dallas-reizevoort-capstone-app/src/components/SpotifyPlayer/SpotifyPlayer.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport spotifyWebApi from 'spotify-web-api-node';\nimport SpotifyIcon from \"../../assets/images/Spotify_Icon_RGB_Green.png\";\n\n\nfunction Player({ accessToken, trackId }) {\n  const [player, setPlayer] = useState(null);\n\n  const spotifyApi = useRef(\n    new spotifyWebApi({\n        clientId: \"6ba0cc8b29e145ea99f2401c09a35e6e\",\n    })\n);\n\n  useEffect(() => {\n    if (!accessToken) return;\n\n    spotifyApi.setAccessToken(accessToken);\n\n    // Create a new player\n    const newPlayer = new window.Spotify.Player({\n      name: 'Web Playback SDK Player',\n      getOAuthToken: cb => { cb(accessToken); }\n    });\n\n    // Error handling\n    newPlayer.addListener('initialization_error', ({ message }) => { console.error(message); });\n    newPlayer.addListener('authentication_error', ({ message }) => { console.error(message); });\n    newPlayer.addListener('account_error', ({ message }) => { console.error(message); });\n    newPlayer.addListener('playback_error', ({ message }) => { console.error(message); });\n\n    // Playback status updates\n    newPlayer.addListener('player_state_changed', state => { console.log(state); });\n\n    // Ready\n    newPlayer.addListener('ready', ({ device_id }) => {\n      console.log('Ready with Device ID', device_id);\n      setPlayer(newPlayer);\n    });\n\n    // Not Ready\n    newPlayer.addListener('not_ready', ({ device_id }) => {\n      console.log('Device ID has gone offline', device_id);\n    });\n\n    // Connect to the player\n    newPlayer.connect();\n\n    return () => {\n      // Clean up on unmount\n      newPlayer.disconnect();\n    };\n  }, [accessToken]);\n\n  useEffect(() => {\n    if (!player) return;\n    if (!trackId) return;\n\n    // Play the track using spotify-web-api-node\n    spotifyApi.play({ uris: [`spotify:track:${trackId}`] })\n      .then(function() {\n        console.log('Playback started');\n      }, function(err) {\n        console.error('Something went wrong!', err);\n      });\n  }, [player, trackId]);\n\n  return null; // This component does not render anything\n}\n\nexport default Player;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}